{% extends "base.html" %} {% block title %}Browse - My Food{% endblock %} {%
block content %}

<div class="container-{breakpoint}">
  <div class="floating-button">
    <span class="plus-sign">+</span>
  </div>

  <div class="formDiv">
    <div id="createForm">
      <span class="close">&times;</span>

      <!-- Labels Section -->
      <div class="form-labels">
        <label id="form-label">Name</label>
      </div>
      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
      </div>

      <!-- Slider Form Container -->
      <div class="slider-container">
        <!-- Step 1 -->
        <div class="form-step active">
          <div class="input-container">
            <input
              type="text"
              class="recipe-inputs"
              id="name-input"
              name="recipe_name"
              placeholder="Enter recipe name"
              maxlength="30"
              required
              onfocus="updateLabel('Name')"
            />
          </div>
          <div class="next-button-container">
            <button class="next-btn" onclick="nextStep()">Next</button>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="form-step">
          <div class="input-container">
            <input
              type="text"
              class="recipe-inputs"
              id="description-input"
              name="recipe_description"
              placeholder="Enter recipe description"
              required
              onfocus="updateLabel('Description')"
            />
          </div>
          <div class="progress-buttons">
            <button class="prev-btn" onclick="prevStep()">Back</button>
            <button class="next-btn" onclick="nextStep()">Next</button>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="form-step">
          <input
            type="file"
            class="recipe-inputs hidden"
            id="image-input"
            name="recipe_image"
            accept=".jpg, .png, .jpeg"
            onchange="previewImage(this)"
            onfocus="updateLabel('Image')"
          />
          <div class="input-container">
            <div class="image-center-container">
              <div
                id="image-preview-container"
                class="image-preview-container"
              ></div>
            </div>
          </div>
          <div class="progress-buttons">
            <button class="prev-btn" onclick="prevStep()">Back</button>
            <label for="image-input" class="middle-btn">Select Image</label>
            <button class="next-btn" onclick="nextStep()">Next</button>
          </div>
        </div>

        <!-- Step 4 -->
        <div class="form-step">
          <div class="input-container">
            <input
              type="number"
              class="recipe-inputs"
              id="number-input"
              name="recipe_duration"
              placeholder="Enter duration"
              required
              onfocus="updateLabel('Duration (minutes)')"
            />
          </div>
          <div class="progress-buttons">
            <button class="prev-btn" onclick="prevStep()">Back</button>
            <button class="next-btn" onclick="nextStep()">Next</button>
          </div>
        </div>

        <!-- Step 5 -->
        <div class="form-step">
          <div class="input-container">
            <div class="ratings-wrapper">
              <div class="ratings">
                <span data-rating="5">&#9733;</span>
                <span data-rating="4">&#9733;</span>
                <span data-rating="3">&#9733;</span>
                <span data-rating="2">&#9733;</span>
                <span data-rating="1">&#9733;</span>
              </div>
            </div>
          </div>
          <div class="progress-buttons">
            <button class="prev-btn" onclick="prevStep()">Back</button>
            <button class="next-btn" onclick="nextStep()">Next</button>
          </div>
        </div>

        <!-- Step 6 -->
        <div class="form-step">
          <div class="input-ingredients-container">
            <span id="placeholder-ingredients">Interact here</span>
            <div class="ingredients-wrapper">
              <div class="ingredients-container" id="ingredients-container">
                <div id="inputed-ingredients"></div>
              </div>
            </div>
          </div>

          <div class="ingredients-btn-container"></div>
          <div class="progress-buttons">
            <button class="prev-btn" onclick="prevStep()">Back</button>
            <button
              class="middle-btn"
              type="button"
              onclick="openIngredientsModal()"
            >
              Add Ingredient
            </button>
            <button class="next-btn" onclick="nextStep()">Next</button>
          </div>
        </div>

        <!-- Final Step -->
        <div class="form-step">
          <div class="input-container">
            <div id="final-image-preview"></div>
            <div id="final-title-preview"></div>
          </div>
          <div class="progress-buttons">
            <button class="prev-btn" onclick="prevStep()">Back</button>
            <button type="submit" class="submit-btn" onclick="submitRecipe()">
              Submit
            </button>
          </div>
        </div>
      </div>
      <div class="form-bottom-slider">
        <div class="progress-dots">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="ingredientsDiv">
    <div id="ingredientsForm">
      <span class="close" onclick="closeIngredientsModal()">&times;</span>
      <form id="ingredientForm">
        <div class="form-group">
          <label for="ingredient-name">Ingredient Name</label>
          <input
            type="text"
            id="ingredient-name"
            class="recipe-inputs"
            placeholder="Enter ingredient name"
            required
          />
        </div>

        <div class="form-group">
          <label for="ingredient-amount">Amount</label>
          <input
            type="text"
            id="ingredient-amount"
            class="recipe-inputs"
            placeholder="Enter amount (e.g. 2 cups)"
            required
          />
        </div>

        <div class="submit-btn-container">
          <button type="button" class="submit-btn" onclick="addIngredient()">
            Add Ingredient
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="black-bar left"></div>

  <div class="card-container">
    <div id="recipe-details-modal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeRecipeDetails()">&times;</span>
        <div class="recipe-header">
          <img
            id="recipe-image"
            src=""
            alt="Recipe Image"
            class="recipe-image"
          />
          <h2 id="recipe-title"></h2>
        </div>
        <div class="recipe-body">
          <p id="recipe-description"></p>
          <p>
            <strong>Duration:</strong>
            <span id="recipe-duration"></span> minutes
          </p>
          <p>
            <strong>Difficulty:</strong> <span id="recipe-difficulty"></span>/5
          </p>
          <h3>Ingredients</h3>
          <ul id="recipe-ingredients"></ul>
        </div>
      </div>
    </div>
  </div>
  <div class="black-bar right"></div>
</div>

{% endblock %}
